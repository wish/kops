load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")

go_library(
    name = "go_default_library",
    srcs = [
        "hook_sorter.go",
        "hooks.go",
        "kind_sorter.go",
        "release_content.go",
        "release_history.go",
        "release_install.go",
        "release_list.go",
        "release_modules.go",
        "release_rollback.go",
        "release_server.go",
        "release_status.go",
        "release_testing.go",
        "release_uninstall.go",
        "release_update.go",
        "release_version.go",
        "resource_policy.go",
        "server.go",
    ],
    importmap = "k8s.io/kops/vendor/k8s.io/helm/pkg/tiller",
    importpath = "k8s.io/helm/pkg/tiller",
    visibility = ["//visibility:public"],
    deps = [
        "//vendor/github.com/ghodss/yaml:go_default_library",
        "//vendor/github.com/golang/protobuf/proto:go_default_library",
        "//vendor/github.com/grpc-ecosystem/go-grpc-prometheus:go_default_library",
        "//vendor/github.com/technosophos/moniker:go_default_library",
        "//vendor/golang.org/x/net/context:go_default_library",
        "//vendor/google.golang.org/grpc:go_default_library",
        "//vendor/google.golang.org/grpc/metadata:go_default_library",
        "//vendor/gopkg.in/yaml.v2:go_default_library",
        "//vendor/k8s.io/apimachinery/pkg/apis/meta/v1:go_default_library",
        "//vendor/k8s.io/client-go/discovery:go_default_library",
        "//vendor/k8s.io/helm/pkg/chartutil:go_default_library",
        "//vendor/k8s.io/helm/pkg/hooks:go_default_library",
        "//vendor/k8s.io/helm/pkg/kube:go_default_library",
        "//vendor/k8s.io/helm/pkg/proto/hapi/chart:go_default_library",
        "//vendor/k8s.io/helm/pkg/proto/hapi/release:go_default_library",
        "//vendor/k8s.io/helm/pkg/proto/hapi/rudder:go_default_library",
        "//vendor/k8s.io/helm/pkg/proto/hapi/services:go_default_library",
        "//vendor/k8s.io/helm/pkg/releasetesting:go_default_library",
        "//vendor/k8s.io/helm/pkg/releaseutil:go_default_library",
        "//vendor/k8s.io/helm/pkg/rudder:go_default_library",
        "//vendor/k8s.io/helm/pkg/tiller/environment:go_default_library",
        "//vendor/k8s.io/helm/pkg/timeconv:go_default_library",
        "//vendor/k8s.io/helm/pkg/version:go_default_library",
        "//vendor/k8s.io/kubernetes/pkg/client/clientset_generated/internalclientset:go_default_library",
    ],
)

go_test(
    name = "go_default_test",
    srcs = [
        "hook_sorter_test.go",
        "hooks_test.go",
        "kind_sorter_test.go",
        "release_content_test.go",
        "release_history_test.go",
        "release_install_test.go",
        "release_list_test.go",
        "release_rollback_test.go",
        "release_server_test.go",
        "release_status_test.go",
        "release_testing_test.go",
        "release_uninstall_test.go",
        "release_update_test.go",
    ],
    embed = [":go_default_library"],
    deps = [
        "//vendor/github.com/ghodss/yaml:go_default_library",
        "//vendor/github.com/golang/protobuf/proto:go_default_library",
        "//vendor/github.com/golang/protobuf/ptypes/timestamp:go_default_library",
        "//vendor/golang.org/x/net/context:go_default_library",
        "//vendor/google.golang.org/grpc/metadata:go_default_library",
        "//vendor/k8s.io/helm/pkg/chartutil:go_default_library",
        "//vendor/k8s.io/helm/pkg/helm:go_default_library",
        "//vendor/k8s.io/helm/pkg/hooks:go_default_library",
        "//vendor/k8s.io/helm/pkg/kube:go_default_library",
        "//vendor/k8s.io/helm/pkg/proto/hapi/chart:go_default_library",
        "//vendor/k8s.io/helm/pkg/proto/hapi/release:go_default_library",
        "//vendor/k8s.io/helm/pkg/proto/hapi/services:go_default_library",
        "//vendor/k8s.io/helm/pkg/releaseutil:go_default_library",
        "//vendor/k8s.io/helm/pkg/storage:go_default_library",
        "//vendor/k8s.io/helm/pkg/storage/driver:go_default_library",
        "//vendor/k8s.io/helm/pkg/tiller/environment:go_default_library",
        "//vendor/k8s.io/helm/pkg/version:go_default_library",
        "//vendor/k8s.io/kubernetes/pkg/apis/core:go_default_library",
        "//vendor/k8s.io/kubernetes/pkg/client/clientset_generated/internalclientset/fake:go_default_library",
        "//vendor/k8s.io/kubernetes/pkg/kubectl/resource:go_default_library",
    ],
)
